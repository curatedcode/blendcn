import { describe, expect, test } from "vitest";
import { generateRadixColors } from "~/lib/radix-colors/generate-radix-colors";

describe("generateRadixColors fn output", () => {
  test("outputs correct color values for light theme", () => {
    const colors = {
      accent: "#2A69C0",
      gray: "#E5E7EB",
      background: "#FFFFFF",
    };

    const result = generateRadixColors({
      appearance: "light",
      accent: colors.accent,
      gray: colors.gray,
      background: colors.background,
    });

    const resultShouldBe: ReturnType<typeof generateRadixColors> = {
      accentScale: [
        "#fcfdfe",
        "#f6f9fe",
        "#ecf3fc",
        "#deebfe",
        "#cee1fd",
        "#bad4f9",
        "#a3c2ef",
        "#82aae5",
        "#2a69c0",
        "#1a5bb0",
        "#2968bf",
        "#173258",
      ],
      accentScaleAlpha: [
        "#0055aa03",
        "#0055e309",
        "#005ed713",
        "#0065f821",
        "#0063f531",
        "#0061e945",
        "#0056d35c",
        "#0052ca7d",
        "#004cb4d5",
        "#0048a7e5",
        "#004bb3d6",
        "#001e47e8",
      ],
      accentScaleWideGamut: [
        "oklch(99.4% 0.0017 257.5)",
        "oklch(98.2% 0.0071 257.5)",
        "oklch(96.1% 0.0148 257.5)",
        "oklch(93.6% 0.0289 257.5)",
        "oklch(90.4% 0.0432 257.5)",
        "oklch(86.3% 0.0586 257.5)",
        "oklch(80.8% 0.0726 257.5)",
        "oklch(73.2% 0.0963 257.5)",
        "oklch(52.7% 0.1508 257.5)",
        "oklch(48% 0.1508 257.5)",
        "oklch(52.5% 0.1508 257.5)",
        "oklch(31.6% 0.0757 257.5)",
      ],
      accentScaleAlphaWideGamut: [
        "color(display-p3 0.0235 0.349 0.6745 / 0.012)",
        "color(display-p3 0.0196 0.2667 0.8784 / 0.032)",
        "color(display-p3 0.0078 0.3373 0.7804 / 0.071)",
        "color(display-p3 0.0039 0.3608 0.9059 / 0.122)",
        "color(display-p3 0.0039 0.3137 0.8902 / 0.177)",
        "color(display-p3 0.0039 0.3137 0.8627 / 0.251)",
        "color(display-p3 0.0039 0.2824 0.7686 / 0.338)",
        "color(display-p3 0.0039 0.2667 0.7373 / 0.459)",
        "color(display-p3 0 0.2314 0.6471 / 0.769)",
        "color(display-p3 0 0.2118 0.5922 / 0.82)",
        "color(display-p3 0 0.2275 0.6431 / 0.773)",
        "color(display-p3 0 0.0863 0.2431 / 0.883)",
      ],
      accentContrast: "#fff",
      grayScale: [
        "#fcfcfd",
        "#f8f9fb",
        "#eff0f3",
        "#e6e8ec",
        "#dfe1e6",
        "#d7dae0",
        "#cccfd5",
        "#b9bcc1",
        "#8b8e93",
        "#808388",
        "#616469",
        "#1e2024",
      ],
      grayScaleAlpha: [
        "#00005503",
        "#00256e07",
        "#00104010",
        "#00153e19",
        "#00103820",
        "#00143a28",
        "#000f2d33",
        "#000b1e46",
        "#00071274",
        "#0007117f",
        "#00050d9e",
        "#000207e1",
      ],
      grayScaleWideGamut: [
        "oklch(99.1% 0.0014 264.5)",
        "oklch(98.2% 0.0029 264.5)",
        "oklch(95.5% 0.0043 264.5)",
        "oklch(93.1% 0.0058 264.5)",
        "oklch(91% 0.0073 264.5)",
        "oklch(88.7% 0.0087 264.5)",
        "oklch(85.3% 0.0087 264.5)",
        "oklch(79.3% 0.0087 264.5)",
        "oklch(64.5% 0.0087 264.5)",
        "oklch(61% 0.0087 264.5)",
        "oklch(50.3% 0.0087 264.5)",
        "oklch(24.2% 0.0087 264.5)",
      ],
      grayScaleAlphaWideGamut: [
        "color(display-p3 0.0235 0.0235 0.349 / 0.012)",
        "color(display-p3 0.0235 0.1608 0.4431 / 0.028)",
        "color(display-p3 0.0078 0.0667 0.2549 / 0.063)",
        "color(display-p3 0.0118 0.0902 0.251 / 0.099)",
        "color(display-p3 0.0078 0.0667 0.2235 / 0.126)",
        "color(display-p3 0.0039 0.0549 0.1804 / 0.153)",
        "color(display-p3 0.0078 0.0471 0.1451 / 0.197)",
        "color(display-p3 0.0039 0.0314 0.1059 / 0.271)",
        "color(display-p3 0.0039 0.0196 0.0627 / 0.451)",
        "color(display-p3 0.0039 0.0196 0.0588 / 0.495)",
        "color(display-p3 0 0.0157 0.0471 / 0.616)",
        "color(display-p3 0 0.0078 0.0275 / 0.883)",
      ],
      graySurface: "#ffffffcc",
      graySurfaceWideGamut: "color(display-p3 1 1 1 / 80%)",
      accentSurface: "#f4f8fecc",
      accentSurfaceWideGamut: "color(display-p3 0.9608 0.9725 0.9961 / 0.8)",
      background: "#fff",
    };

    expect(result).toStrictEqual(resultShouldBe);
  });

  test("outputs correct color values for dark theme", () => {
    const colors = {
      accent: "#3D63DD",
      gray: "#8B8D98",
      background: "#111111",
    };

    const result = generateRadixColors({
      appearance: "dark",
      accent: colors.accent,
      gray: colors.gray,
      background: colors.background,
    });

    const resultShouldBe: ReturnType<typeof generateRadixColors> = {
      accentScale: [
        "#0c111c",
        "#111725",
        "#172448",
        "#1d2e61",
        "#243974",
        "#2d4484",
        "#375098",
        "#405eb2",
        "#3d63dd",
        "#3f5cb0",
        "#93b4ff",
        "#d5e2ff",
      ],
      accentScaleAlpha: [
        "#0012fb0c",
        "#1156f916",
        "#2b64ff3b",
        "#3567ff56",
        "#3f71fd6b",
        "#4b7afd7c",
        "#5480ff91",
        "#5783ffad",
        "#4571ffdb",
        "#5580feab",
        "#93b4ff",
        "#d5e2ff",
      ],
      accentScaleWideGamut: [
        "oklch(17.8% 0.0247 266.8)",
        "oklch(20.7% 0.0302 266.8)",
        "oklch(27.1% 0.0694 266.8)",
        "oklch(31.8% 0.0933 266.8)",
        "oklch(36.1% 0.1046 266.8)",
        "oklch(40.4% 0.1106 266.8)",
        "oklch(45% 0.1203 266.8)",
        "oklch(50.3% 0.1373 266.8)",
        "oklch(54.3% 0.1913 266.8)",
        "oklch(49.7% 0.1373 266.8)",
        "oklch(77.7% 0.1234 266.8)",
        "oklch(91.1% 0.0428 266.8)",
      ],
      accentScaleAlphaWideGamut: [
        "color(display-p3 0 0.0706 0.9804 / 0.043)",
        "color(display-p3 0.1176 0.3608 1 / 0.08)",
        "color(display-p3 0.2275 0.4039 1 / 0.223)",
        "color(display-p3 0.2627 0.4196 1 / 0.324)",
        "color(display-p3 0.302 0.451 1 / 0.4)",
        "color(display-p3 0.3451 0.4902 1 / 0.467)",
        "color(display-p3 0.3725 0.5098 1 / 0.547)",
        "color(display-p3 0.3843 0.5255 1 / 0.652)",
        "color(display-p3 0.3176 0.451 1 / 0.824)",
        "color(display-p3 0.3843 0.5176 1 / 0.643)",
        "color(display-p3 0.6196 0.7216 1 / 0.975)",
        "color(display-p3 0.8549 0.898 1 / 0.988)",
      ],
      accentContrast: "#fff",
      grayScale: [
        "#111113",
        "#19191b",
        "#222325",
        "#292a2e",
        "#303136",
        "#393a40",
        "#46484f",
        "#5f606a",
        "#6c6e79",
        "#797b86",
        "#b2b3bd",
        "#eeeef0",
      ],
      grayScaleAlpha: [
        "#1111bb03",
        "#cbcbf90b",
        "#d6e2f916",
        "#d1d9f920",
        "#d7ddfd28",
        "#d9defc33",
        "#dae2fd43",
        "#e0e3fd60",
        "#e0e4fd70",
        "#e3e7fd7e",
        "#eff0feb9",
        "#fdfdffef",
      ],
      grayScaleWideGamut: [
        "oklch(17.8% 0.0042 277.7)",
        "oklch(21.5% 0.004 277.7)",
        "oklch(25.5% 0.0055 277.7)",
        "oklch(28.4% 0.0075 277.7)",
        "oklch(31.4% 0.0089 277.7)",
        "oklch(35% 0.01 277.7)",
        "oklch(40.2% 0.0121 277.7)",
        "oklch(49.2% 0.0157 277.7)",
        "oklch(54% 0.0167 277.7)",
        "oklch(58.6% 0.0165 277.7)",
        "oklch(77% 0.0138 277.7)",
        "oklch(94.9% 0.0026 277.7)",
      ],
      grayScaleAlphaWideGamut: [
        "color(display-p3 0.0667 0.0667 0.9412 / 0.009)",
        "color(display-p3 0.8 0.8 0.9804 / 0.043)",
        "color(display-p3 0.851 0.898 0.9882 / 0.085)",
        "color(display-p3 0.8392 0.8706 1 / 0.122)",
        "color(display-p3 0.8471 0.8745 1 / 0.156)",
        "color(display-p3 0.8784 0.898 1 / 0.194)",
        "color(display-p3 0.8745 0.9059 0.9961 / 0.257)",
        "color(display-p3 0.8941 0.9059 1 / 0.37)",
        "color(display-p3 0.8902 0.9098 1 / 0.433)",
        "color(display-p3 0.902 0.9176 1 / 0.488)",
        "color(display-p3 0.9451 0.949 1 / 0.719)",
        "color(display-p3 0.9922 0.9922 1 / 0.937)",
      ],
      graySurface: "rgba(0, 0, 0, 0.05)",
      graySurfaceWideGamut: "color(display-p3 0 0 0 / 5%)",
      accentSurface: "#111d3980",
      accentSurfaceWideGamut: "color(display-p3 0.0706 0.1098 0.2118 / 0.5)",
      background: "#111",
    };

    expect(result).toStrictEqual(resultShouldBe);
  });
});
